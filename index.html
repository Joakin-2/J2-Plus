<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="J2+.png" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J2+</title>
    <script src="Facial/face-api.js"></script>
    <script src="Facial/face-api.min.js"></script>
    <link rel="stylesheet" href="styles.css"> <!-- CSS externo -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

</head>
<body>
    <aside class="menu" id="overlayMenu" aria-hidden="true">
        <div class="menu-content">
            <button class="menu-button" aria-label="Fechar menu" onclick="toggleMenu()">Voltar</button>
            <ul>
                <li><a href="https://www.deepl.com/pt-BR/translator">Deepl</a></li>
                <li><a href="https://j2plus.netlify.app/monitor%20de%20h%C3%A1bitos/saude.html">Sa√∫de</a></li>
                <li><a href="https://j2plus.netlify.app/works/ler.html">Leitura</a></li>
                <li><a href="https://j2plus.netlify.app/h%C3%A1bitos/">H√°bitos</a></li>
                <li><a href="https://j2plus.netlify.app/works/">Trabalho</a></li>
            </ul>
            <ul>
                <li><a href="https://360ytmp3.com/pt100">Baixador</a></li>
                <li><a href="https://j2plus.netlify.app/finan%C3%A7as/">Finan√ßas</a></li>
                <li><a href="https://j2plus.netlify.app/control/">Controles</a></li>
                <li><a href="https://j2plus.netlify.app/streamings/">Streamings</a></li>
                <li><a href="https://j2plus.netlify.app/back/games%20states/games">Game State</a></li>
            </ul>
        </div>
    </aside>

    <aside class="menu" id="overlayMenu2" aria-hidden="true">
        <div class="menu-content">
            <button class="menu-button" aria-label="Fechar menu 2" onclick="toggleMenu2()">Voltar</button>
            <ul>
                <!-- Atualizar em breve -->
                <li><a href="https://j2plus.netlify.app/proto">Proto</a></li>
                <li><a href="https://j2plus.netlify.app/monitor%20de%20h%C3%A1bitos/saude.html">Sa√∫de</a></li>
                <li><a href="https://j2plus.netlify.app/works/ler.html">Leitura</a></li>
                <li><a href="https://j2plus.netlify.app/monitor%20de%20h%C3%A1bitos/">H√°bitos</a></li>
                <li><a href="https://j2plus.netlify.app/works/">Trabalho</a></li>
            </ul>
        </div>
    </aside>

    <!-- Modal com c√¢mera -->
    <div id="cameraModal" class="modal" style="display: none;">
        <div class="modal-content" style="margin-left: 25%;">
          <span id="closeModalCamera" class="close" style="display: none;">√ó</span>
          <video id="video" width="720" height="560" autoplay muted></video>
          <canvas id="overlay" width="720" height="560" style="position: absolute; top: 0; left: 0;"></canvas>
        </div>
    </div>

  <!-- Tela de perfil -->
  <div class="perfil-container" id="perfil-container">
    <div class="perfil-content">
        <button id="fechar-btn" class="fechar-btn" style="margin-right: 90%; background: #202020;">X</button>
      <div class="icone-perfil">&#128100;</div> <!-- √çcone de perfil -->
      <h2 id="nome-perfil">Nome do Usu√°rio</h2>
      <textarea id="bio-perfil" placeholder="Escreva sua bio aqui..."></textarea>
      <div>
        <button id="importar-btn">Importar</button>
        <button id="exportar-btn">Salvar</button>
      </div>
    </div>
  </div>
  
    <div class="container">
        <button class="menu-button" aria-label="Abrir menu" onclick="toggleMenu()">Menu</button>
        <button id="perfil-btn">Perfil</button>
        <button onclick="window.location.href='https://j2plus.netlify.app/conselho/new.html'" style="display:none; position: absolute; margin-top: 440px;" id="botao31Dezembro">Refex√£o desse Ano!</button>
        <button class="chatg" onclick="window.location.href='https://chat.openai.com/chat'"></button>
        <span class="clock">
            <i id="muteButton" class="fas fa-volume-up" style="cursor: pointer;"></i>
            <i id="openCamera" class="fas fa-camera" style="cursor: pointer;"></i>
            <i class="fas fa-clock"></i> <!-- √çcone de rel√≥gio -->
            <span id="clock">00:00</span>
        </span>    
        <!-- Lista de c√¢meras dispon√≠veis -->
        <div id="cameraOptions" style="background: rgb(18, 18, 18); color: white; display: none; margin-left: 70%; margin-top: 1%;">
            <ul id="cameraList" style="list-style-type: none; padding: 0; border: 1px solid #ccc; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); margin: 0;">
              <!-- As op√ß√µes de c√¢meras ser√£o adicionadas aqui dinamicamente -->
            </ul>
        </div>
        <br><br>
        <div id="recomendacoes"></div>

        <p style="margin-left: 80%; position: absolute; margin-top: 10%;">N√≠vel Atual: <span id="nivel">1</span></p>
        <p style="margin-left: 80%; position: absolute; margin-top: 12%;">XP Atual: <span id="xp-atual">0</span> / <span id="xp-necessario">100</span></p>

  <div class="progress-bar-container" style="display: none;">
    <div id="progress-bar" class="progress-bar">0%</div>
  </div>

        <div class="avatar-container">
            <div class="left-side">
                <div class="temperature">
                    <h3>Temperatura Atual</h3>
                    <p id="temperature">-- ¬∞C</p>
                </div>
                <div class="stocks">
                    <button class="texto" onclick="toggleDropdown()">√öltimas Not√≠cias</button>
                    <div class="dropdown-content" id="dropdownNoticias">
                        <a href="https://www.msn.com/pt-br/channel/topic/Not%C3%ADcias/tp-Y_fdac555d-4ec2-428a-88e4-cb891ca7d5e9?ocid=msedgntp&cvid=3f0353edefc5487287d80c53e966368a&ei=29" target="_blank">MSN Not√≠cias</a>
                        <a href="https://br.investing.com/" target="_blank">Investing</a>
                        <a href="https://www.youtube.com/@Laatusoficial" target="_blank">Laatus</a>
                        <a href="https://www.toroinvestimentos.com.br/" target="_blank">Toro</a>
                    </div>
                    <ul id="stocksList">
                        <li>Carregando a√ß√µes...</li>
                    </ul>
                </div>                
            </div>
            <a href="chat.html" target="_blank">
                <div class="avatar">
                    <div id="Hat" class="birthday-hat" style="display:none;"></div>
                    <div id="Gorro" class="gorro" style="display: none;">
                        <div class="faixa"></div>
                        <div class="pompom"></div>
                    </div>
                    <div class="face">
                        <div class="eye left" id="olhoEsquerdo"></div>
                        <div class="eye right" id="olhoDireito"></div>
                    </div>
                </div>
            </a>            
            <div class="right-side">
                <div class="weather">
                    <a href="https://www.msn.com/pt-br/clima/forecast/in-Jacupiranga,S%C3%A3o-Paulo?ocid=msedgntphdr&cvid=bb73bd20fe56462399e7e714692deb87&loc=eyJsIjoiSmFjdXBpcmFuZ2EiLCJyIjoiU8OjbyBQYXVsbyIsImMiOiJCcmFzaWwiLCJpIjoiQlIiLCJ0IjoxMDIsImciOiJwdC1iciIsIngiOiItNDguMDA2MDk5NzAwOTI3NzM0IiwieSI6Ii0yNC43MDM4MDAyMDE0MTYwMTYifQ%3D%3D&weadegreetype=C" target="_blank">
                        <button class="texto">Previs√£o do Tempo</button>
                      </a>                      
                    <p id="weatherForecast">Carregando...</p>
                </div>
                <div class="news">
                    <button class="texto" onclick="abrirSites()">√öltimas Not√≠cias</button> 
                    <ul>
                        <li>Sem Not√≠cias...</li>
                    </ul>
                    <!-- <ul id="newsList">
                        <li>Carregando not√≠cias...</li>
                    </ul> -->
                </div>
            </div>
        </div>
        <br><br>
        <!-- <audio id="backgroundMusic" loop>
            <source src="natal.mp3" type="audio/mpeg">
            Seu navegador n√£o suporta o elemento de √°udio.
        </audio> -->
        <div id="Message" style="display: none;color: rgb(100, 45, 252);padding: 10px;border: 1px solid rgb(100, 45, 252);border-radius: 5px;">
             <p id="Text"></p>
            </div>
                <div class="chat">
            <main id="chatArea" class="chat-area"></main>
            <div id="status" class="status"></div>
            <footer class="chat-footer">
                <input type="text" id="inputText" class="chat-input" placeholder="Digite aqui..." onkeypress="handleKeyPress(event)">
                <button id="sendButton" class="send-button" type="button" onclick="sendMessage()">Enviar</button>
            </footer>
        </div>        
    </div>

    <footer>
        <button class="detalhes" onclick="window.location.href='privacidade.html'">Privacidade</button>
        <button class="detalhes" onclick="window.location.href='termo.html'">Termo</button>
        <button class="detalhes" onclick="window.location.href='https://juca3.github.io/Item-shop/'">Venda</button>
        <button class="detalhes" aria-label="Abrir menu2" onclick="toggleMenu2()">Help</button>
    </footer>
    
    <!-- Inclui o script externo -->
  <script src="/script/nivel.js"></script>
    <script src="main.js"></script> <!-- JavaScript externo -->
    <script>
        // Fun√ß√£o para alternar o som da p√°gina
    document.getElementById('muteButton').addEventListener('click', function () {
        const mediaElements = document.querySelectorAll('audio, video'); // Seleciona todos os elementos de m√≠dia
        const muteIcon = this;

        mediaElements.forEach(element => {
            element.muted = !element.muted; // Alterna o estado de mudo
        });

        // Alterna o √≠cone entre "volume-up" e "volume-mute"
        if (mediaElements.length > 0 && mediaElements[0].muted) {
            muteIcon.classList.remove('fa-volume-up');
            muteIcon.classList.add('fa-volume-mute');
        } else {
            muteIcon.classList.remove('fa-volume-mute');
            muteIcon.classList.add('fa-volume-up');
        }
    });

        const autocompleteInput = document.getElementById('inputText');
    
        const suggestions = [
            "Ol√°, pode me ajudar?", "Gostaria de mais informa√ß√µes sobre esse t√≥pico.", "Posso fazer uma pergunta?", "Preciso de assist√™ncia.", "Voc√™ pode me enviar mais detalhes?"
        ];
    
        autocompleteInput.addEventListener('keydown', function (event) {
            if (event.key === 'Tab') {
                event.preventDefault(); // Evita o comportamento padr√£o da tecla "Tab"
                const currentText = autocompleteInput.value.toLowerCase();
                const suggestion = suggestions.find(s => s.toLowerCase().startsWith(currentText));
    
                if (suggestion) {
                    autocompleteInput.value = suggestion; // Autocompleta a sugest√£o
                }
            }
        });
        function abrirSites() {
            window.open('https://www.msn.com/pt-br/channel/topic/Not%C3%ADcias/tp-Y_fdac555d-4ec2-428a-88e4-cb891ca7d5e9?ocid=msedgntp&cvid=3f0353edefc5487287d80c53e966368a&ei=29', '_blank');
            window.open('https://www.bing.com/maps/traffic?setlang=pt-br&FORM=ntptra&cvid=8e0de91695834c0c99ca877c7c74130f&ocid=msedgntp&cp=-24.695375%7E-47.974205&lvl=12.0&detectedloc=-24.7069149017334%7E-48.01025390625&detectedlocacc=3122.047119140625&trafficcontent=insights&trffeatures=clpaipredux3&trafficcontent=insights&trffeatures=clpaipredux3&ei=18', '_blank'); // Coloque o segundo site aqui
        }
        function toggleDropdown() {
    var dropdown = document.getElementById("dropdownNoticias");
    // Alterna entre mostrar e esconder o dropdown
    if (dropdown.style.display === "block") {
        dropdown.style.display = "none";
    } else {
        dropdown.style.display = "block";
    }
}

// Fechar o dropdown se clicar fora dele
window.onclick = function(event) {
    if (!event.target.matches('.texto')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        for (var i = 0; i < dropdowns.length; i++) {
            var openDropdown = dropdowns[i];
            if (openDropdown.style.display === "block") {
                openDropdown.style.display = "none";
            }
        }
    }
}
        // Fun√ß√£o para verificar os anivers√°rios
        function checkBirthday() {
            // Defina os anivers√°rios com nome, m√™s e dia
            const birthdays = [
                { name: "Joaquim", month: 2, day: 5 },     // 5 de fevereiro
                { name: "Vit√≥ria", month: 6, day: 4 },     // 4 de julho
                { name: "Paula", month: 10, day: 24 },     // 24 de outubro
                { name: "Adeir", month: 9, day: 7 }        // 7 de setembro
            ];

            // Obt√©m a data atual
            const today = new Date();
            const todayMonth = today.getMonth() + 1; // M√™s atual (1-12)
            const todayDay = today.getDate();        // Dia atual (1-31)

            let message = '';

            // Verifica se a data de hoje √© o anivers√°rio de algu√©m
            birthdays.forEach(birthday => {
                // Compara m√™s e dia
                if (todayMonth === birthday.month && todayDay === birthday.day) {
                    message = `üéâ Parab√©ns, ${birthday.name}! üéÇ`; // Cria uma mensagem personalizada
                }
            });

            // Se algum anivers√°rio for hoje, exibe a mensagem
            if (message) {
                document.getElementById('Text').innerText = message; // Atualiza o texto da mensagem
                document.getElementById('Message').style.display = 'block'; // Exibe o div
                document.getElementById('Hat').style.display = 'inline'; // Exibe o chap√©u

                // Criar confetes
                createConfetti();
            }
        }

        // Fun√ß√£o para criar confetes
        function createConfetti() {
            const numConfetti = 100; // N√∫mero de confetes

            for (let i = 0; i < numConfetti; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');

                // Definindo posi√ß√£o aleat√≥ria e dura√ß√£o da anima√ß√£o para o confete
                confetti.style.left = Math.random() * 100 + 'vw'; // Aleat√≥rio de 0 a 100% da largura da tela
                confetti.style.animationDuration = Math.random() * 2 + 3 + 's'; // Entre 3s e 5s
                confetti.style.animationDelay = Math.random() * 2 + 's'; // Delay entre 0s e 2s

                // Adiciona o confete ao corpo da p√°gina
                document.body.appendChild(confetti);
            }
        }

        // Fun√ß√£o para criar flocos de neve
        function createSnowflakes() {
            const numSnowflakes = 60; // N√∫mero de flocos de neve

            for (let i = 0; i < numSnowflakes; i++) {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.textContent = '‚ùÑ'; // S√≠mbolo de floco de neve

                // Definindo uma posi√ß√£o aleat√≥ria para cada floco
                snowflake.style.left = Math.random() * 100 + 'vw'; // Aleat√≥rio de 0 a 100% da largura da tela
                snowflake.style.animationDuration = Math.random() * 5 + 5 + 's'; // Anima√ß√£o entre 5s e 10s
                snowflake.style.animationDelay = Math.random() * 5 + 's'; // Delay entre 0s e 5s

                // Adiciona o floco de neve ao corpo da p√°gina
                document.body.appendChild(snowflake);
            }
        }

        function startChristmasEffect() {
    const music = document.getElementById('backgroundMusic');
    music.play().then();
}

        // Fun√ß√£o para verificar o Natal e ativar o efeito
        function checkChristmas() {
        const today = new Date();

        // Verifica se √© 25 de dezembro
        if (today.getDate() === 25 && today.getMonth() === 11) { // Dezembro √© m√™s 11 (base 0)
            // Exibe a mensagem de Natal
            const christmasMessage = "üéÑ Feliz Natal! üéÖ";
            document.getElementById('Text').innerText = christmasMessage;
            document.getElementById('Message').style.display = 'block';
            document.getElementById('Gorro').style.display = 'block'; // Mostrar o gorro

            // Mensagem falada
            falar("Feliz Natal! Que sua noite seja m√°gica e cheia de alegria!");

            // Toca m√∫sica de fundo em loop
            // startChristmasEffect()

            // Cria os flocos de neve
            createSnowflakes();
        }
    }

    function checkNewYear() {
  const today = new Date();

  // Verifica se √© 31 de dezembro
  if (today.getDate() === 31 && today.getMonth() === 11) { // Dezembro √© m√™s 11 (base 0)
    const message = "Prepare-se para a virada do ano! üéâ";
    document.getElementById('Text').innerText = message;
    document.getElementById('Message').style.display = 'block';

    // Mudar a cor do rosto para dourado (sinal de celebra√ß√£o)
    document.querySelector('.face').style.backgroundColor = '#a083ff';
    document.querySelector('.avatar').style.backgroundColor = '#a083ff';

    // Fun√ß√£o que exibe o bot√£o apenas no dia 31 de dezembro
    document.getElementById('botao31Dezembro').style.display = 'block'; // Exibe o bot√£o
    
    // Mensagem falada
    falar("Prepare-se para a virada do ano! Que venha um novo ciclo cheio de oportunidades!");
  }

  // Verifica se √© 1¬∫ de janeiro
  else if (today.getDate() === 1 && today.getMonth() === 0) { // Janeiro √© m√™s 0 (base 0)
    const newYearMessage = "üéÜ Feliz Ano Novo! üéÜ";
    document.getElementById('Text').innerText = newYearMessage;
    document.getElementById('Message').style.display = 'block';

    // Mudar a cor do rosto
    document.querySelector('.face').style.backgroundColor = '#a083ff';
    document.querySelector('.avatar').style.backgroundColor = '#a083ff';

    // Criar confetes
    createConfetti();

    // Mensagem falada
    falar("Feliz Ano Novo! Que este novo ano seja repleto de alegrias e realiza√ß√µes!");
  }
}

        // Chama a fun√ß√£o quando a p√°gina for carregada
        window.onload = function() {
  checkBirthday();
  checkChristmas();
  checkNewYear();
  checkSeason();
};
    </script>
    
</body>
</html>
