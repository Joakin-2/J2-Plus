<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <link rel="icon" href="Monitor de Hábitos.png" type="image/x-icon">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monitor de Hábitos</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Estilos para as seções */
        #anotarRefeicoes,
        #contagemDeLiquidos {
            width: 45%;
            padding: 18px;
            margin: 10px;
        }
        
        #contadorDeLitros {
    color: white;
}

legend,
label {
    color: white;
}

        @media (max-width: 768px) {
            /* Ajuste para telas menores, como tablets e smartphones */
            body {
                flex-direction: column;
                align-items: center;
            }

            #anotarRefeicoes,
            #contagemDeLiquidos {
                width: 90%;
                margin: 10px 0;
            }
        }

        /* Estilo para os fieldsets */
fieldset {
    border: 2px solid #ccc;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 15px;
}

/* Estilo para as legends */
legend {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 10px;
}

/* Estilo para os labels */
label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

/* Estilo para os inputs de texto */
input[type="text"] {
    width: calc(90% - 12px); /* Leva em consideração a largura dos borders */
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1em;
    margin-bottom: 10px;
}

/* Estilo para os botões dentro dos fieldsets */
fieldset button {
    background-color: #000000; /* Cor de fundo preta */
    color: white; /* Cor do texto branca */
    border: 1px solid #ddd; /* Borda com cor cinza */
    padding: 10px 20px; /* Espaçamento interno */
    cursor: pointer; /* Cursor ao passar o mouse */
    margin-top: 10px; /* Margem superior de 10px */
    width: 300px;
    height: 70px;
    font-size: 20px;
}

/* Estilo para os botões dentro dos fieldsets ao passar o mouse */
fieldset button:hover {
    background-color: #0c0c0c;
}

#botoesControle {
    display: flex;
    justify-content: space-between;
}

#botoesControle button {
    width: 48%; /* Ajuste a largura conforme necessário */
}
#calculatorModal {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: #2b2b2b;
    padding: 20px;
    border: 2px solid #ddd;
    border-radius: 4px;
    z-index: 1000;
    width: 500px;
    height: 400px;
        }

        #calculatorModal input {
            width: calc(60% - 20px); /* Leva em consideração a largura dos borders */
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 1em;
    margin-top: 20px;
    margin-bottom: 30px;
    background-color: #000000; /* Cor de fundo preta */
    color: white; /* Cor do texto branca */
}

        #calculatorModal button {
            display: block;
            margin: 0 auto;
        }

        #modalOverlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 999;
        }

        p {
            color: white;
        }

        .sugestao-btn {
    background-color: #000000; /* Cor de fundo preta */
    color: white; /* Cor do texto branca */
    border: 1px solid #ddd; /* Borda com cor cinza */
    padding: 8px 20px; /* Espaçamento interno */
    cursor: pointer; /* Cursor ao passar o mouse */
    width: 20px;
    height: 40px;
    font-size: 20px;
    border-radius: 4px;
}

.sugestao-btn:hover {
    background-color: #0c0c0c;
}
        
    </style>
</head>
<body>
    <header class="header-container">
        <button id="menuBtn">Menu</button>
        <p id="relogio"></p>
    </header>

    <div id="menuOverlay" class="menu-overlay">
        <div class="menu-content">
            <button id="habitosBtn">Hábitos</button>
            <button id="refeicoesBtn">Refeições</button>
            <button id="voltarBtn">Voltar</button>
        </div>
    </div>    

    <h1>Monitor de Hábitos</h1>

    <div style="margin-bottom: 30px;"></div>

    <div style="display: flex; justify-content: space-between; width: 90%; margin: auto;">
        <section id="anotarRefeicoes">
            <h2>Anotações de Refeições</h2>
            <form id="refeicoesForm">
                <fieldset>
                    <legend>Manhã</legend>
                    <label for="cafemanha">Café da Manhã (6h):</label>
                    <input type="text" id="cafemanha" name="cafemanha" placeholder="Registre seu café da manhã">
                    <button type="button" class="sugestao-btn" onclick="sugerirRefeicao('cafemanha')">?</button>

                    <label for="lanchemanha">Lanche da Manhã (9h):</label>
                    <input type="text" id="lanchemanha" name="lanchemanha" placeholder="Registre seu Lanche da Manhã">
                    <button type="button" class="sugestao-btn" onclick="sugerirRefeicao('lanchemanha')">?</button>
                </fieldset>                
                <fieldset>
                    <legend>Almoço</legend>
                    <label for="almoco">Almoço (12h):</label>
                    <input type="text" id="almoco" name="almoco" placeholder="Registre seu almoço">
                    <button type="button" class="sugestao-btn" onclick="sugerirRefeicao('almoco')">?</button>

                    <label for="lanchetarde">Lanche da Tarde (15h):</label>
                    <input type="text" id="lanchetarde" name="lanchetarde" placeholder="Registre seu lanche da tarde">
                    <button type="button" class="sugestao-btn" onclick="sugerirRefeicao('lanchetarde')">?</button>
                </fieldset>
                <fieldset>
                    <legend>Noite</legend>
                    <label for="janta">Janta (18h):</label>
                    <input type="text" id="janta" name="janta" placeholder="Registre seu jantar">
                    <button type="button" class="sugestao-btn" onclick="sugerirRefeicao('janta')">?</button>

                    <label for="lanchenoite">Lanche da Noite (21h):</label>
                    <input type="text" id="lanchenoite" name="lanchenoite" placeholder="Registre seu lanche da noite">
                    <button type="button" class="sugestao-btn" onclick="sugerirRefeicao('lanchenoite')">?</button>
                </fieldset>
            </form>
        </section>

        <section id="contagemDeLiquidos">
            <h2>Contagem de Água</h2>
            <img src="agua.png" alt="Água" style="width: 200px; height: 200px; margin-top: 20px;">
            <p id="contadorDeLitros">0/4 Litros</p>
            <h3>(Observação: 2 Litros Recomendado | 3 Litros Ótimo | 4 Litros Perfeito)</h3>
            <div style="margin-bottom: 20px;"></div>
            <div id="botoesControle">
                <button id="adicionarLitroBtn">Adicionar 1 Litro</button>
                <button id="resetarLitroBtn">Resetar</button>
            </div>   
            <div style="margin-bottom: 55px;"></div>         
            <fieldset>
                <legend>Dicas</legend>
                <div style="margin-bottom: 10px;"></div>
                <label for="dicas">Recomendado comer a cada 3 horas</label>
                <div style="margin-bottom: 30px;"></div>
                <div id="botoesControle">
                    <button id="bottomButton" onclick="window.open('https://www.youtube.com/@NutricionistaPatriciaLeite/videos', '_blank')">Receitas</button>
                    <button id="bottomButton">Calculadora</button>
                </div>  
            </fieldset>
        </section>        
    </div>

    <div id="modalOverlay"></div>
    <div id="calculatorModal">
        <h2>Calculadora de Calorias</h2>
        <br>
        <label for="gramsInput">Quantos gramas de comida você comeu?</label>
        <input type="number" id="gramsInput" placeholder="Digite os gramas" />
        <button id="calculateButton">Calcular Calorias</button>
        <p id="result"></p>
        <button id="closeButton">Fechar</button>
    </div>

    <script>
        const bottomButton = document.getElementById("bottomButton");
        const calculatorModal = document.getElementById("calculatorModal");
        const modalOverlay = document.getElementById("modalOverlay");
        const calculateButton = document.getElementById("calculateButton");
        const closeButton = document.getElementById("closeButton");
        const gramsInput = document.getElementById("gramsInput");
        const result = document.getElementById("result");

        // Exibe a calculadora quando o botão for clicado
        bottomButton.addEventListener("click", () => {
            calculatorModal.style.display = "block";
            modalOverlay.style.display = "block";
        });

        // Fecha a calculadora
        closeButton.addEventListener("click", () => {
            calculatorModal.style.display = "none";
            modalOverlay.style.display = "none";
            result.textContent = "";
            gramsInput.value = "";
        });

        // Faz o cálculo estimativo de calorias
        calculateButton.addEventListener("click", () => {
            const grams = parseFloat(gramsInput.value);

            // Supondo que cada 100g de comida tenha 250 kcal (valor estimado)
            const caloriesPer100g = 250;
            const estimatedCalories = (grams / 100) * caloriesPer100g;

            if (isNaN(estimatedCalories) || grams <= 0) {
                result.textContent = "Por favor, insira uma quantidade válida de gramas.";
            } else {
                result.textContent = `Você consumiu aproximadamente ${estimatedCalories.toFixed(2)} kcal.`;
            }
        });
        document.addEventListener('DOMContentLoaded', function() {
    const menuBtn = document.getElementById('menuBtn');
    const menuOverlay = document.getElementById('menuOverlay');
    const habitosBtn = document.getElementById('habitosBtn');
    const refeicoesBtn = document.getElementById('refeicoesBtn');
    const voltarBtn = document.getElementById('voltarBtn');
    const refeicoesForm = document.getElementById('refeicoesForm');
    const contadorLitros = document.getElementById('contadorDeLitros');
    const adicionarLitroBtn = document.getElementById('adicionarLitroBtn');
    const resetarLitroBtn = document.getElementById('resetarLitroBtn');
    const limite = 4; // Defina o limite de litros

    // Função para salvar o contador no localStorage
    function salvarContador() {
        localStorage.setItem('contadorLitros', contadorLitros.textContent);
    }

    // Função para carregar o contador do localStorage
    function carregarContador() {
        const valorSalvo = localStorage.getItem('contadorLitros');
        if (valorSalvo) {
            contadorLitros.textContent = valorSalvo;
        }
    }

    // Carregar contador ao carregar a página
    carregarContador();

    menuBtn.addEventListener('click', function() {
        menuOverlay.style.display = 'block';
    });

    habitosBtn.addEventListener('click', function() {
        window.location.href = 'index.html';
    });

    refeicoesBtn.addEventListener('click', function() {
        window.location.href = 'refeicoes.html';
    });

    voltarBtn.addEventListener('click', function() {
        fecharMenu();
    });

    function fecharMenu() {
        menuOverlay.style.display = 'none';
    }

    // Função para salvar anotações no armazenamento local
    function salvarAnotacoes() {
        const formData = new FormData(refeicoesForm);
        formData.forEach((value, key) => {
            localStorage.setItem(key, value);
        });
    }

    // Carregar anotações do armazenamento local ao carregar a página
    function carregarAnotacoes() {
        for (let i = 0; i < refeicoesForm.elements.length; i++) {
            const element = refeicoesForm.elements[i];
            const valor = localStorage.getItem(element.id);
            if (valor) {
                element.value = valor;
            }
        }
    }

    // Chamar a função de carregar anotações ao carregar a página
    carregarAnotacoes();

    // Adicionar ouvintes de eventos de entrada aos elementos <input>
    refeicoesForm.addEventListener('input', salvarAnotacoes);

    // Evento de clique para adicionar litro
    adicionarLitroBtn.addEventListener('click', function() {
        const valorAtual = parseInt(contadorLitros.textContent.split('/')[0]);
        
        if (valorAtual < limite) {
            const novoValor = valorAtual + 1;
            contadorLitros.textContent = `${novoValor}/${limite} Litros`;
            // Salvar no localStorage
            salvarContador();
        }
    });

    // Evento de clique para resetar litro
    resetarLitroBtn.addEventListener('click', function() {
        contadorLitros.textContent = `0/${limite} Litros`;
        // Salvar no localStorage
        salvarContador();
    });

});

document.addEventListener('DOMContentLoaded', function() {
    function atualizarRelogio() {
        const relogioElement = document.getElementById('relogio');
        if (relogioElement) {
            const agora = new Date();
            const horas = agora.getHours().toString().padStart(2, '0');
            const minutos = agora.getMinutes().toString().padStart(2, '0');
            const segundos = agora.getSeconds().toString().padStart(2, '0');
            const horario = `${horas}:${minutos}:${segundos}`;
            relogioElement.textContent = horario;
        }
    }

    atualizarRelogio();
    setInterval(atualizarRelogio, 1000);
});

function sugerirRefeicao(id) {
    const sugestoes = {
        cafemanha: 'Ovo frito com Café com Leite',
        lanchemanha: 'Whey e uma banana',
        almoco: 'Arroz, feijão, salada e frango grelhado',
        lanchetarde: 'Iogurte natural com frutas',
        janta: 'Arroz, feijão, salada e frango grelhado',
        lanchenoite: 'Cereal com Leite'
    };

    const input = document.getElementById(id);
    input.value = sugestoes[id] || 'Sugestão não disponível';
}

    </script>
    
</body>
</html>
